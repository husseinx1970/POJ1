<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="utf-8">
  <title>EmailJS Test – Full Fields</title>

  <style>
    body {
      background:#0b0c10; color:white; font-family:Arial;
      padding:20px; max-width:550px; margin:auto;
    }
    label { display:block; margin-top:12px; }
    input, textarea {
      width:100%; padding:10px; margin-top:4px;
      border-radius:8px; border:1px solid #444;
      background:#111; color:white;
    }
    button {
      margin-top:16px; padding:12px; width:100%;
      background:#dabd66; border:0; color:#111;
      font-weight:bold; border-radius:10px; cursor:pointer;
    }
    #status {
      margin-top:16px; padding:12px; display:none;
      border-radius:10px; text-align:center; font-weight:bold;
    }
    #status.success { background:rgba(34,197,94,0.15); color:#4ade80; }
    #status.error   { background:rgba(239,68,68,0.15); color:#f87171; }
  </style>
</head>
<body>

  <h2>Testa EmailJS – Fullt formulär</h2>

  <form id="emailForm">
    <input type="text" name="_honey" style="display:none">

    <label>Namn</label>
    <input type="text" name="name" required>

    <label>Telefon</label>
    <input type="text" name="phone">

    <label>E-post</label>
    <input type="email" name="email" required>

    <label>Bil / Regnr</label>
    <input type="text" name="car" required>

    <label>Problem / Tjänst</label>
    <input type="text" name="issue" required>

    <label>Önskat datum</label>
    <input type="date" name="date" required>

    <label>Önskad tid</label>
    <input type="time" name="time" required>

    <label>Meddelande</label>
    <textarea name="message" required></textarea>

    <button type="submit">Skicka meddelande</button>

    <div id="status"></div>
  </form>

  <!-- EmailJS lib -->
  <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>

  <script>
  (function(){

    const PUBLIC_KEY  = "vt_iAWB9MVGz6iT_X";
    const SERVICE_ID  = "service_6fai64h";
    const TEMPLATE_ID = "template_7tccbsi";

    emailjs.init(PUBLIC_KEY);

    const form   = document.getElementById("emailForm");
    const status = document.getElementById("status");

    function show(msg, type){
      status.textContent = msg;
      status.className = type;
      status.style.display = "block";
    }

    form.addEventListener("submit", async function(e){
      e.preventDefault();

      const btn = form.querySelector("button");
      const old = btn.textContent;
      btn.textContent = "Skickar...";
      btn.disabled = true;

      try {
        await emailjs.sendForm(SERVICE_ID, TEMPLATE_ID, form);
        show("Tack! Meddelandet skickades.", "success");
        form.reset();
      } catch (err) {
        console.error(err);
        show("Fel: kunde inte skicka e-post.", "error");
      }

      btn.textContent = old;
      btn.disabled = false;
    });

  })();
  </script>

</body>
</html>