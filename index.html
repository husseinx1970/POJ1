<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="utf-8">
  <title>EmailJS Test</title>

  <style>
    body {
      background:#0b0c10; color:white; font-family:Arial; 
      padding:20px; max-width:500px; margin:auto;
    }
    label { display:block; margin-top:12px; }
    input, textarea {
      width:100%; padding:10px; margin-top:4px;
      border-radius:8px; border:1px solid #444;
      background:#111; color:white;
    }
    button {
      margin-top:14px; padding:12px; width:100%;
      background:#dabd66; border:0; color:#111;
      font-weight:bold; border-radius:10px; cursor:pointer;
    }
    #contactStatus {
      margin-top:14px; padding:12px; border-radius:8px; display:none;
      text-align:center; font-weight:bold;
    }
    #contactStatus.success {
      background:rgba(34,197,94,0.15); color:#4ade80;
    }
    #contactStatus.error {
      background:rgba(239,68,68,0.15); color:#f87171;
    }
  </style>
</head>
<body>

  <h2>Testa EmailJS</h2>

  <!-- FORM -->
  <form id="contactForm_emailjs">
    <input type="text" name="_honey" style="display:none">

    <label for="name">Namn</label>
    <input id="name" name="name" required>

    <label for="email">E-post</label>
    <input id="email" name="email" type="email" required>

    <label for="message">Meddelande</label>
    <textarea id="message" name="message" required></textarea>

    <button type="submit">Skicka</button>

    <div id="contactStatus"></div>
  </form>

  <!-- EmailJS lib -->
  <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>

  <script>
  (function(){
    const EMAILJS_PUBLIC_KEY  = "vt_iAWB9MVGz6iT_X";
    const EMAILJS_SERVICE_ID  = "service_6fai64h";
    const EMAILJS_TEMPLATE_ID = "template_7tccbsi";

    // init
    emailjs.init(EMAILJS_PUBLIC_KEY);

    function setStatus(text, type){
      const el = document.getElementById("contactStatus");
      el.textContent = text;
      el.className = type;
      el.style.display = "block";
    }

    document.getElementById("contactForm_emailjs").addEventListener("submit", async function(e){
      e.preventDefault();

      let form = this;
      let btn  = form.querySelector("button");
      let prev = btn.textContent;
      btn.textContent = "Skickar..."; 
      btn.disabled = true;

      try {
        await emailjs.sendForm(EMAILJS_SERVICE_ID, EMAILJS_TEMPLATE_ID, form);
        setStatus("Tack! Ditt meddelande Ã¤r skickat.", "success");
        form.reset();
      } 
      catch (err) {
        console.error(err);
        setStatus("Fel: kunde inte skicka e-post.", "error");
      }

      btn.textContent = prev;
      btn.disabled = false;
    });
  })();
  </script>

</body>
</html>